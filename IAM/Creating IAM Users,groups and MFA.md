# **Using AWS Identity and Access Management (IAM) to manage access to AWS services and resources securely, as well as setting up Multi-Factor Authenticator (MFA) for extra protection of the environment.**

## `Create IAM user`

IAM is a service in AWS that is used to grant permission to different AWS services.
To create an IAM user

> 1. GOTO services, search and click `IAM`

> 2. From the left pane, select `Users`. click add users

    Enter username, select access type (How user will primarily access AWS).There are 2 access types to choose from:
    Programmatic access: When configured enable users access to developers tools such as CLI, SDK AWS API etc
    AWS managemengt console access: When configured enable user access strictly via GUI

    Set Console password: It can be autogenerated or create custom password
    Require password reset: This enable user change their password on first sign in

![image not found](Adduser1.png)

> 3. Set permissions

    Select Attach existing policy and select preferred policies as required.

![image not found](Setpermission.png)

> 4. Tag: it is use for organizing (OPTIONAL) 

![image not found](Tag3.png)

> 5. Review and create user

![image not found](Review.png)

`IMPORTANT`: *Download .csv file on the next page. This file contain the unique login link of the user created*

## `IAM inline policies`

    Follow steps above to create user but do not set permissions
    Your review page should look like this
![image not found](inlinepolicy.png)

   Go back to users and click on the newly created user "Audit". 
   select the policy tab and click "Add inline policy"
![image not found](inlinepolicy1.png)

   Select Json and add your custom policy
   Note: you can search policy up on google/amazon documentry and edit
![image not found](inlinepolicy2.png)

   Review and create policy
![image not found](inlinepolicy3.png)

## `Create Group` 

    Select `user groups` from left pane. click create group
![image not found](usergroups.png)

    Enter group name
![image not found](usergroup2.png)

    Attach policy: This is determined by job role  
![image not found](usergroup3.png)

    click "create group"
![image not found](usergroup4.png)

## `Add user to group`
    Click on "users" from left pane and select username to be added to group then click the "Groups" tab
    click "Add user to groups"
![image not found](usergroup5.png)

    Select group you want user to be in and click "Add to Groups" 
![image not found](usergroup6.png)

## `Assign MFA`
    From users tab click on security credentials
    Locate Assigned MFA device and click "Manage"
![image not found](MFA1.png)

    choose "Virtual MFA device" and continue    
![image not found](MFA2.png)

    Scan QR code using an authenticator app
    Enter 2 different codes generated by authenticator
    click assign MFA.
![image not found](MFA4.png)

    MFA assigned successfully.
![image not found](MFA5.png)

**Best practices:**

Do not logon with email

Do not log on with root user

Put users into groups, this makes it easy to assign policy to users.



**Tools to download:**
Mobaxterm and
VS code
